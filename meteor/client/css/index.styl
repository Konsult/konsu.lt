@import 'util.styl'
@import 'nib'

z-what = 3
z-top = 2
z-who = 1

#top
  position relative
  top 0
  background-color darkBgColor
  background-image none

  height titleSize + bodyFontSize + smallHeaderSize*goldenRatio + bodyFontSize + largeHeaderSize*2
  z-index = z-top

  #header_image_caption
    position absolute
    bottom tinyFontsize
    right tinyFontsize

    font-size tinyFontsize
    text-align right
    line-height 1em

    -webkit-transform translateZ(0) // Sigh, layer-backing issue

    z-index 2

  .bg
    position absolute
    width 100%
    height 100%

    z-index 1

    &> *
      position absolute
      width 100%
      height 100%
      -webkit-transform translateZ(0) // Sigh, layer-backing issue

    .overlay
      background-image url('/images/outlets.gif')
      opacity 0.68
      z-index 4

    .gradient
      background-image linear-gradient(top, transparent, rgba(darkBgColor, 75%))
      z-index 3

    .header_image
      background-size cover
      background-position center
      &.top
        z-index 2
      &.bottom
        z-index 1

  .header
    @extend .brandFont
    position absolute
    width 100%
    height 100%

    text-align center
    font-size smallHeaderSize

    box-sizing border-box
    padding-top largeHeaderSize

    -webkit-transform translateZ(0) // Sigh, layer-backing issue

    z-index 3

.section
  position relative

.what 
  z-index z-what
  // image: '/images/decor/wireframe.gif' 200px 216px
  background-repeat no-repeat
  background-position 0 80%

  h2
    color deepskyblue

.who
  z-index z-who
  h2
    color darkseagreen

.bottom-sections
  background-image linear-gradient(bottom right, rgb(199, 241, 192), rgb(255, 248, 231))

  .pricing 
    h2
      color indianred


  .contact
    border-top 1px solid darken(white, 15%)
    border-bottom 1px solid darken(white, 30%)
    background-color rgba(white, 50%)
    box-shadow 0 2px 5px rgba(black, 10%)

    h2
      color deepskyblue

    #contact_form
      input, textarea
        width 100%
      textarea
        resize none

      .status
        opacity 0
        text-align center
        -webkit-transform translateZ(0)
      .submit
        margin-top bodyFontSize
        text-align center

.footer
  font-size tinyFontsize
  color rgba(black, 30%)
  .container
    padding-bottom 0
    text-align right

.decor
  user-select none
  position absolute
  overflow hidden
  background-repeat no-repeat

  &#diagram
    width 200px
    bottom -300px
    right 0
    height 206px
    image: '/images/decor/diagram.gif' 200px 206px

  &#matt, &#jing
    height 200px
  &#matt
    bottom -250px
    left 10px
    width 131px
    image: '/images/matt.png' 131px 200px
  &#jing
    bottom 10%
    right 10px
    width 98px
    image: '/images/jing.png' 98px 200px
